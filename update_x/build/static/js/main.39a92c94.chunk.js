(this.webpackJsonpupdate_x=this.webpackJsonpupdate_x||[]).push([[0],Array(19).concat([function(e,t,a){e.exports={Dashboard:"Dashboard_Dashboard__3qpcC",Section:"Dashboard_Section__3zMpT",Items:"Dashboard_Items__Cef9r",Trans:"Dashboard_Trans__tYqR3",EmptyStore:"Dashboard_EmptyStore__2D0WI"}},,function(e,t,a){e.exports={HistoryRow:"historyRow_HistoryRow__1oJeD",Time:"historyRow_Time__2u9cH",Details:"historyRow_Details__rd-bq",Item:"historyRow_Item__5ctyx",Type:"historyRow_Type__365UZ",Quantity:"historyRow_Quantity__11E7E",Red:"historyRow_Red__2-HgV",Green:"historyRow_Green__AZcz2",LeftDetails:"historyRow_LeftDetails__BbeSj"}},,function(e,t,a){e.exports={Input:"Input_Input__2kESN",Select:"Input_Select__3qOAh",Textarea:"Input_Textarea__3fZ4t",hangedLabel:"Input_hangedLabel__eAbY9",invalid:"Input_invalid__tWddW"}},,,,,function(e,t,a){e.exports={Main:"Layout_Main__3rTUe",ProductSection:"Layout_ProductSection__1ehDi",Spinner:"Layout_Spinner__3wb3H",Error:"Layout_Error__2j2Yn"}},function(e,t,a){e.exports={Input:"SearchBar_Input__3RwxR",InputElement:"SearchBar_InputElement__vJboY",SearchIcon:"SearchBar_SearchIcon__3d8eN",hide:"SearchBar_hide__HTPgV",Suggestions:"SearchBar_Suggestions__2qRi3"}},function(e,t,a){e.exports={Product:"Product_Product__3hr4g",Image:"Product_Image__37WQj"}},function(e,t,a){e.exports={ProductPage:"ProductPage_ProductPage__SzY6O",Table:"ProductPage_Table__2oLTJ",ItemImage:"ProductPage_ItemImage__3IO1V",Product:"ProductPage_Product__mFPXG",Input:"ProductPage_Input__38uTv"}},,,,function(e,t,a){e.exports={Nav:"Nav_Nav__1mllo",Minus:"Nav_Minus__3XHnr",Plus:"Nav_Plus__1ijPV"}},function(e,t,a){e.exports={ItemsDisplay:"ItemsDisplay_ItemsDisplay__1tkkR",EmptyStore:"ItemsDisplay_EmptyStore__2QyPK",Buttons:"ItemsDisplay_Buttons__25Gca"}},function(e,t,a){e.exports={CategoryItems:"CategoryItems_CategoryItems__VtAH2",EmptyCategory:"CategoryItems_EmptyCategory__3Z1HK"}},,,,function(e,t,a){e.exports={MobileNav:"MobileNav_MobileNav__aA_qJ",show:"MobileNav_show__3ldqx",Bars:"MobileNav_Bars__1dlXp"}},,function(e,t,a){e.exports={NavItems:"NavItems_NavItems__3mOAn",NavItemsUL:"NavItems_NavItemsUL__3xkGA"}},function(e,t,a){e.exports={Label:"Label_Label__101hw",Quantity:"Label_Quantity__3Jndl"}},function(e,t,a){e.exports={Buttons:"ProductDisplay_Buttons__2tk1h",ProductDisplay:"ProductDisplay_ProductDisplay__2i6x4",Button:"ProductDisplay_Button__2udzo"}},function(e,t,a){e.exports={Form:"Form_Form__1_VC2",NestedInput:"Form_NestedInput__wBdKA"}},function(e,t,a){e.exports={ItemsHistory:"ItemsHistory_ItemsHistory__1dU-S",Transactions:"ItemsHistory_Transactions__T76aM"}},,function(e,t,a){e.exports={Logo:"Logo_Logo__1sG7C"}},function(e,t,a){e.exports={NavItem:"NavItem_NavItem__BUpC1",active:"NavItem_active__3YQJ6"}},,function(e,t,a){e.exports={Bars:"DrawerToggle_Bars__Rmqt2"}},function(e,t,a){e.exports={BackDrop:"BackDrop_BackDrop__OiV7z"}},,function(e,t,a){e.exports={loader:"Spinner_loader__3bK2Z",load1:"Spinner_load1__2p-6B"}},function(e,t,a){e.exports={Modal:"Modal_Modal__29FfU"}},function(e,t,a){e.exports={Button:"Button_Button__13KL9"}},function(e,t,a){e.exports={Products:"Products_Products__3I6q9"}},function(e,t,a){e.exports={Category:"Category_Category__rsq-G"}},function(e,t,a){e.exports={ItemUpdate:"ItemUpdate_ItemUpdate__2p0VU"}},,function(e,t,a){e.exports=a(78)},,,,,,,,function(e,t,a){},,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),o=a.n(i),c=a(26),l=a(12);c.b.add(l.c,l.f,l.k,l.e,l.d,l.j,l.a,l.m,l.i,l.g,l.b,l.h,l.l,l.n);a(70);var s=a(5),u=a(6),m=a(8),d=a(7),p=a(9),h=function(e){return r.a.createElement("div",null,e.children)},y=a(49),g=a.n(y),f=a(18),E=function(e){return r.a.createElement("div",{className:g.a.Logo},r.a.createElement("h2",null,"UpdateX"))},v=a(13),b=a(10),_=a(50),I=a.n(_),S=Object(b.f)((function(e){return r.a.createElement("li",{className:I.a.NavItem,onClick:function(){return e.history.replace(e.link.path)}},r.a.createElement(v.b,{to:e.link.path,onClick:e.clicked},r.a.createElement(f.a,{icon:e.link.icon,style:{color:"white",paddingRight:"10px"}}),e.link.name))})),O=a(41),T=a.n(O),j=function(e){var t=[T.a.MobileNav];return e.show&&t.push(T.a.show),r.a.createElement(h,null,r.a.createElement("div",{onClick:e.clicked,className:t.join(" ")},r.a.createElement("ul",null,e.links.map((function(e,t){return r.a.createElement(S,{link:e,key:t})})))))},C=a(52),k=a.n(C),N=function(e){return r.a.createElement("div",{className:k.a.Bars,onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},D=a(35),w=a.n(D),x=a(53),P=a.n(x),A=function(e){return e.show?r.a.createElement("div",{className:P.a.BackDrop,onClick:e.clicked}):null},H="http://localhost:8080",q=function(){return function(e){e({type:"GET_ITEMS"}),fetch("".concat(H,"/api/getitems")).then((function(e){return e.json()})).then((function(t){return e({type:"GET_ITEMS_SUCCESS",items:t.data.reverse()})})).catch((function(t){return e({type:"GET_ITEMS_FAILURE"})})),e({type:"GET_CATEGORIES"}),fetch("".concat(H,"/api/getcategories")).then((function(e){return e.json()})).then((function(t){return e({type:"GET_CATEGORIES_SUCCESS",categories:t.data})})).catch((function(t){return e({type:"GET_CATEGORIES_FAILED"})})),e({type:"GET_HISTORY"}),fetch("".concat(H,"/api/getitemshistory")).then((function(e){return e.json()})).then((function(t){return e({type:"GET_HISTORY_SUCCESS",history:t})})).catch((function(t){return e({type:"GET_HISTORY_FAILED"})}))}},L=function(e){return function(t){t({type:"UPDATE_ITEM"}),fetch("".concat(H,"/api/update"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:"UPDATE_ITEM_SUCCESS",item:e})})).catch((function(e){return t({type:"UPDATE_ITEM_FAILED"})}))}},M=function(e){return{type:"ADD_LINK",link:e}},R=a(1),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showToggle:!1,showSearchInput:!1},a.sideNavHandler=function(){var e=a.state.showToggle;a.setState({showToggle:!e})},a.activeTabHandler=function(e){},a.prevButtonHandler=function(){a.props.popLink(),a.props.history.goBack()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.links;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(A,{show:this.state.showToggle,clicked:function(){return e.sideNavHandler()}}),r.a.createElement("nav",{className:w.a.Nav},this.props.navLinks.length>1&&r.a.createElement(f.a,{style:{position:"absolute",left:"1em",top:"2em",transform:"scale(1.4, 1.4)"},color:"white",icon:"arrow-left",onClick:this.prevButtonHandler}),r.a.createElement(E,null),r.a.createElement(f.a,{style:{transform:"scale(1.4, 1.4)"},color:"white",icon:"search",onClick:this.props.showSearch}),r.a.createElement(v.b,{to:"/add-quantity"},r.a.createElement(f.a,{className:w.a.Plus,icon:"plus",title:"Add item"}),r.a.createElement("span",null,"Add Quantity")),r.a.createElement(v.b,{to:"/pick-quantity"},r.a.createElement(f.a,{className:w.a.Minus,icon:"minus",title:"pick item"}),r.a.createElement("span",null,"Pick Quantity")),r.a.createElement(N,{clicked:function(){return e.sideNavHandler()}})),r.a.createElement(j,{links:t,show:this.state.showToggle,clicked:function(){return e.sideNavHandler()}})))}}]),t}(n.Component),G=Object(R.b)((function(e){return{links:e.globalState.links,navLinks:e.globalState.navLinks}}),(function(e){return{showSearch:function(){return e({type:"SET_SEARCH_MODE"})},popLink:function(){return e({type:"REMOVE_LINK",link:t});var t}}}))(Object(b.f)(B)),U=a(43),V=a.n(U),F=Object(R.b)((function(e){return{links:e.globalState.links}}))((function(e){var t=e.links;return r.a.createElement("div",{className:V.a.NavItems},r.a.createElement("ul",{className:V.a.NavItemsUL},t.map((function(e,t){return r.a.createElement(S,{link:e,key:t})}))))})),Q=a(28),Y=a.n(Q),K=a(55),J=a.n(K),W=function(e){return r.a.createElement("div",{className:J.a.loader},"Loading...")},z=a(29),X=a.n(z),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChangeHandler=function(e){var t=a.getFilteredSuggestion(e.target.value);a.setState({filteredSuggestions:t,userInput:e.target.value})},a.onKeyDownHandler=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t,n=a.state.filteredSuggestions;if("Enter"===e.key&&a.state.userInput.length>0){var r=n.find((function(e){return e.desc.trim()===a.state.userInput}));a.onClickHandler(e,r.id)}else"ArrowUp"===e.key?(t=n&&a.state.activeSuggestion<0?Object.entries(n).length-1:a.state.activeSuggestion,a.setState({userInput:n[t].desc.trim(),activeSuggestion:--t})):"ArrowDown"===e.key&&(t=a.state.activeSuggestion%(n&&Object.entries(n).length),a.setState({userInput:n[t].desc.trim(),activeSuggestion:++t}))},a.onClickHandler=function(e,t){a.setState({userInput:e.target.innerText,activeSuggestion:t}),a.props.history.replace("/items/".concat(t)),a.props.removeSearch()},a.state={suggestions:a.getSuggestions(),userInput:"",filteredSuggestions:null,activeSuggestion:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getFilteredSuggestion",value:function(e){return this.props.suggestions.filter((function(t){return t.desc.indexOf(e.toLowerCase())>-1}))}},{key:"getSuggestions",value:function(){var e=[];return this.props.items.forEach((function(t){return e.push((t.brand+" "+t.name).toLowerCase().trim())})),e}},{key:"render",value:function(){var e=this,t=this.state.filteredSuggestions,a=r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:X.a.Suggestions},t&&t.length>0?t.map((function(t){return r.a.createElement("li",{onClick:function(a){return e.onClickHandler(a,t.id)},key:t.id},t.desc)})):null));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:X.a.Input},r.a.createElement("input",{className:X.a.InputElement,type:"text",placeholder:"Enter Item",onChange:function(t){return e.onChangeHandler(t)},onKeyDown:this.onKeyDownHandler,value:this.state.userInput}),r.a.createElement("div",{className:X.a.SearchIcon},r.a.createElement(f.a,{icon:"arrow-left",onClick:this.props.removeSearch,style:{color:"#f06",marginTop:"8px",transform:"scale(1.3, 1)"}})),a))}}]),t}(n.Component),$=Object(R.b)((function(e){var t=[];return e.items.items.forEach((function(e,a){return t.push({desc:(e.brand+" "+e.name).toLowerCase(),id:a})})),{items:e.items.items,category:e.categories.category,suggestions:t}}),(function(e){return{removeSearch:function(){return e({type:"REMOVE_SEARCH_MODE"})}}}))(Object(b.f)(Z)),ee=Object(R.b)((function(e){return{loading:e.globalState.loading||e.items.loading||e.categories.loading,err:e.globalState.error||e.items.error||e.categories.error,showSearch:e.globalState.searchMode}}))((function(e){return r.a.createElement(h,null,e.showSearch?r.a.createElement($,null):r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(G,null)),r.a.createElement("main",{className:Y.a.Main},r.a.createElement(F,null),e.err?r.a.createElement("div",{className:Y.a.Error},"Sorry, An Error Occured, try reloading the page"):e.loading?r.a.createElement("div",{className:Y.a.Spinner},r.a.createElement(W,null)):r.a.createElement("section",{className:Y.a.ProductSection},e.children))))})),te=a(15),ae=a(56),ne=a.n(ae),re=function(e){return r.a.createElement(h,null,r.a.createElement(A,{clicked:e.modalClosed,show:e.show}),r.a.createElement("div",{className:ne.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-150vh)",opacity:e.show?"1":"0"}},e.children))},ie=a(44),oe=a.n(ie),ce=function(e){var t=e.brand?e.brand+" "+e.name:e.name,a=e.quantity&&e.quantity;return r.a.createElement("div",{className:oe.a.Label},r.a.createElement("span",null,t.length<43?t:t.slice(0,40)+"..."),r.a.createElement("br",null),r.a.createElement("span",{className:oe.a.Quantity},a))},le=a(30),se=a.n(le),ue=function(e){var t=r.a.createElement(v.b,{style:{textDecoration:"none"},to:"/category/".concat(e.name)},r.a.createElement("div",{onClick:e.clicked,className:se.a.Product,style:e.style2},r.a.createElement("div",{className:se.a.Image},r.a.createElement("img",{alt:e.name,src:e.link||"/images/image.jpg"}),r.a.createElement(ce,{name:e.name,quantity:e.quantity+" item(s)",brand:e.brand})))),a=e.link||"/images/image.jpg",n=r.a.createElement("div",null,r.a.createElement("div",{onClick:e.clicked,className:se.a.Product,style:e.style2},r.a.createElement("div",{className:se.a.Image},r.a.createElement("img",{alt:e.name,src:a}),r.a.createElement(ce,{quantity:e.quantity,name:e.name,brand:e.brand}))));return"products"===e.type?n:t},me=a(57),de=a.n(me),pe=function(e){return r.a.createElement("div",{className:de.a.Button,style:e.divStyle},e.path?r.a.createElement(v.b,{to:e.path},r.a.createElement("button",{onClick:e.clicked,style:e.style},e.value)):r.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,style:e.style},e.value))},he=a(2),ye=a(34),ge=a(23),fe=a.n(ge),Ee=function(e){var t,a=e.inputType,n=[fe.a.Input];switch(e.isTouched&&e.isInvalid&&n.push(fe.a.invalid),a){case"input":var i=e.config||e;t=r.a.createElement("div",{className:n.join(" ")},r.a.createElement("input",{type:i.type,value:i.value,name:i.name,id:i.name,onChange:e.change,onBlur:e.blur}),r.a.createElement("label",{className:i&&(0===i.value.length?"":fe.a.hangedLabel),htmlFor:i.name},i.placeholder));break;case"select":var o=e.config&&e.config.options||e.options;t=r.a.createElement("div",{className:fe.a.Select},r.a.createElement("select",{onChange:e.change},o.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.description)}))));break;case"textarea":t=r.a.createElement("div",{className:fe.a.Textarea},r.a.createElement("textarea",{onBlur:e.blur,onChange:e.change,value:e.config.value}),r.a.createElement("label",{className:0===e.config.value.length?"":fe.a.hangedLabel},e.config.placeholder));break;default:t=r.a.createElement("input",null)}return t},ve=void 0,be=Object(R.b)((function(e){return{options:e.categories.category}}))((function(e){var t=e.options.map((function(e){return{value:e.name,description:e.name}})),a="select"===e.inputType?r.a.createElement(Ee,{change:function(t){return e.change(t,e.type)},options:t,inputType:e.inputType,blur:function(){return ve.onBlurHandler()}}):r.a.createElement("input",{onBlur:e.blur,type:"number",value:e.value,onChange:function(t){return e.change(t,e.type)}});return void 0!==e.value&&null!==e.value?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,r.a.createElement("span",null,e.type[0].toUpperCase()+e.type.substr(1)),":")),r.a.createElement("td",null,e.willEdit&&e.dataId===e.id?"quantity"===e.type?Object.entries(e.value).map((function(t){var a=Object(te.a)(t,2),n=a[0],i=a[1];return r.a.createElement("input",{type:"number",value:i,onChange:function(t){return e.change(t,n)},key:n})})):a:r.a.createElement("p",null,function(e,t){if(["costPrice","sellPrice"].includes(e))return function(e){for(var t=String(e).split(""),a="";t.length>3;)a=","+t.splice(t.length-3,3).join("");return t.join("")+a}(t);var a="";if("quantity"===e){var n=t;return"object"!==typeof n?t:(Object.entries(n).forEach((function(e){var t=Object(te.a)(e,2),n=t[0],r=t[1];a=a.concat("".concat(r," ").concat(n,", "))})),a)}return t}(e.type,e.value))),r.a.createElement("td",null,r.a.createElement(pe,{clicked:e.clicked,value:"edit",style:{width:"70px",height:"40px",padding:"8px"}}))):null})),_e=a(45),Ie=a.n(_e),Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={willEdit:!1,dataId:null,dataEntries:{category:a.props.data.category,costPrice:a.props.data.costPrice,sellPrice:a.props.data.sellPrice,quantity:Object(he.a)({},a.props.data.initQuantity),serialNo:a.props.data.serialNo}},a.editButtonHandler=function(e){a.setState({willEdit:!0,dataId:e})},a.discardButtonHandler=function(){var e=a.props.data,t=e.category,n=e.costPrice,r=e.sellPrice,i=e.serialNo,o=Object(he.a)({},a.props.data.initQuantity);a.setState({willEdit:!1,dataEntries:{category:t,costPrice:n,sellPrice:r,quantity:o,serialNo:i}})},a.onChangeHandler=function(e,t,n){var r=Object(he.a)({},a.state.dataEntries);n?r[n][t]=e.target.value:r[t]=e.target.value,a.setState({dataEntries:r})},a.HOChangeHandler=function(e){return function(t,n){return"quantity"===e?a.onChangeHandler(t,n,e):a.onChangeHandler(t,n)}},a.onBlurHandler=function(){a.setState({willEdit:!1})},a.onSaveButtonHandler=function(){var e={props:Object(he.a)({},a.state.dataEntries,{initQuantity:a.state.dataEntries.quantity}),id:a.props.data._id};a.props.saveItem(e)},a.onChangeHandler=a.onChangeHandler.bind(Object(ye.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.data,a=t.category,n=t.costPrice,r=t.sellPrice,i=t.serialNo,o=e.data.initQuantity;this.setState({willEdit:!1,dataEntries:{category:a,costPrice:n,sellPrice:r,quantity:o,serialNo:i}})}},{key:"render",value:function(){var e=this,t=(this.state.dataEntries,this.props.data.name),a=this.props.data.brand,n=this.state.dataEntries;return r.a.createElement("div",{className:Ie.a.ProductDisplay},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3"},r.a.createElement("h4",null,a+" "+t)))),r.a.createElement("tbody",null,Object.keys(n).map((function(t,a){return r.a.createElement(be,{inputType:"category"==t?"select":"input",dataId:e.state.dataId,willEdit:e.state.willEdit,change:e.HOChangeHandler(t),clicked:e.editButtonHandler.bind(e,a),id:a,key:a,type:t,value:n[t],blur:function(){return e.onBlurHandler()}})})))),r.a.createElement("div",{className:Ie.a.Buttons},r.a.createElement(pe,{clicked:function(){return e.onSaveButtonHandler()},value:"Save",style:{margin:"5px"}}),r.a.createElement(pe,{value:"Discard",style:{margin:"5px"},clicked:function(){return e.discardButtonHandler()}})))}}]),t}(n.Component),Oe=Object(R.b)((function(e){return{category:e.categories.category}}),(function(e){return{saveItem:function(t){return e(L(t))}}}))(Se),Te=a(36),je=a.n(Te),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,items:a.props.items||a.props.products,data:null,itemStartIndex:0},a.getItems=function(){return a.props.items||a.props.products},a.moreItemHandler=function(){var e=a.state.itemStartIndex+16;e<=a.getItems().length&&a.setState({itemStartIndex:e})},a.prevItemsHandler=function(){var e=a.state.itemStartIndex-16;e<=0&&a.setState({itemStartIndex:e})},a.itemClickHandler=function(e){a.setState({showModal:!0,data:e})},a.modalClosed=function(){return a.setState({showModal:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.getItems();if(!t||0==t.length)return r.a.createElement("div",{className:je.a.EmptyStore},r.a.createElement("p",null,r.a.createElement("bold",null,"Your Inventory is empty")),r.a.createElement(pe,{path:"/add-item",value:"Add Item"}));var a=t.length-this.state.itemStartIndex,n=a>16?this.state.itemStartIndex+16:this.state.itemStartIndex+a,i="products"===this.props.type?t.slice(this.state.itemStartIndex,n):this.props.cat;return r.a.createElement("div",null,r.a.createElement(re,{type:this.props.type,modalClosed:this.modalClosed,show:this.state.showModal},this.state.data&&r.a.createElement(Oe,{data:this.state.data})),r.a.createElement("div",{className:je.a.ItemsDisplay},i.map((function(t){var a="";return null!==t.initQuantity&&void 0!==t.initQuantity&&Object.entries(t.initQuantity).forEach((function(e){var t=Object(te.a)(e,2),n=t[0],r=t[1];a=a.concat("".concat(r," ").concat(n,", "))})),"products"===e.props.type?r.a.createElement(ue,{type:e.props.type,clicked:function(){return e.itemClickHandler(t)},link:t.img,name:t.name,brand:t.brand,key:t.name,quantity:a}):r.a.createElement(ue,{type:e.props.type,key:t.name,link:t.img,name:t.name,quantity:e.props.catItems[t.name].length})}))),r.a.createElement("div",{className:je.a.Buttons},a>16?r.a.createElement(pe,{clicked:function(){return e.moreItemHandler()},value:"Next Items"}):null,this.state.itemStartIndex>0?r.a.createElement(pe,{clicked:function(){return e.prevItemsHandler()},value:"Prev Items"}):null))}}]),t}(n.Component),ke=Object(R.b)((function(e){return{products:e.items.items,cat:e.categories.category,catItems:e.items.categoryItems}}),(function(e){return{updateItems:function(){return e(q())}}}))(Ce),Ne=a(58),De=a.n(Ne),we=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.addPath("/add-items")}},{key:"render",value:function(){return r.a.createElement("div",{className:De.a.Products},r.a.createElement("h1",null,"Items"),r.a.createElement(ke,{type:"products"}))}}]),t}(n.Component),xe=Object(R.b)((function(e){return{items:e.items.items}}),(function(e){return{addPath:function(t){return e(M(t))}}}))(we),Pe=a(46),Ae=a.n(Pe),He=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={formEntries:a.props.formEntries,isFocus:!1,labelStatic:!1,allValid:!1},a.labelHandler=function(e){e.target.value.trim().length>0?a.setState({labelStatic:!0}):a.setState({labelStatic:!1})},a.checkValidity=function(e,t){var a=!0;return t.required&&(a=e.trim().length>0&&a),void 0!==t.minValue&&(a=e>=t.minValue&&a),t.minLength&&(a=e.trim().length>=t.minLength),t.maxLength&&(a=e.trim().length<=t.minLength),a},a.onChangeHandler=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object(he.a)({},a.state.formEntries),i=n?Object(he.a)({},r[n].inputs[t]):Object(he.a)({},r[t]);if(i.elementConfig.value=e.target.value,"img"===t){if(!["image/png","image/jpeg","image/jpg"].includes(e.target.files[0].type))return;i.elementConfig.file.append("image",e.target.files[0])}else n?(r[n].value[t]=e.target.value,r[n].inputs[t]=i):r[t]=i;if(i.isTouched=!0,i.validation){i.valid=a.checkValidity(i.elementConfig.value,i.validation);var o=!0;for(var c in r)o=r[c].isValid?o&&r[c].isValid():o&&r[c].valid;a.setState({formEntries:r,allValid:o})}else a.setState({formEntries:r})},a.submitHandler=function(e){e.preventDefault();var t,n={};for(var r in a.props.formEntries)a.props.formEntries[r].hasNestedInputs?n[r]=a.props.formEntries[r].value:n[r]=a.props.formEntries[r].elementConfig.value;if(a.state.formEntries.img){var i=n.img&&n.img.split("\\").pop();n.img=i,t=a.props.formEntries.img.elementConfig.file||null}(t=t||new FormData).append("details",JSON.stringify(n)),a.props.passData(t)},a.NestedInputs=function(e){var t=[];return Object.keys(e.inputs).forEach((function(a){return t.push({id:a,config:e.inputs[a]})})),r.a.createElement("div",{className:Ae.a.NestedInput},r.a.createElement("em",null,e.name),r.a.createElement("div",null,t.map((function(t,n){return r.a.createElement(Ee,{key:n,config:t.config.elementConfig,inputType:t.config.elementType,labelStatic:a.state.labelStatic,change:function(n){return a.onChangeHandler(n,t.id,e.parent)},blur:function(e){return a.labelHandler(e)},isInvalid:!t.config.valid,isTouched:t.config.isTouched})}))))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=[];return Object.keys(this.state.formEntries).forEach((function(a){return t.push({id:a,config:e.state.formEntries[a]})})),r.a.createElement("div",{className:Ae.a.Form},r.a.createElement("form",{method:"POST",onSubmit:this.submitHandler,encType:"multipart/form-data"},t.map((function(t){return t.config.hasNestedInputs?r.a.createElement(e.NestedInputs,{key:t.config.name,parent:t.config.inputId,name:t.config.name,inputs:t.config.inputs}):r.a.createElement(Ee,{key:t.id,config:t.config.elementConfig,inputType:t.config.elementType,labelStatic:e.state.labelStatic,change:function(a){return e.onChangeHandler(a,t.id)},blur:function(t){return e.labelHandler(t)},isInvalid:!t.config.valid,isTouched:t.config.isTouched})})),r.a.createElement(pe,{disabled:!this.state.allValid,value:"Add Item"})))}}]),t}(n.Component),qe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={formEntries:{name:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Item Name",name:"itemName"},validation:{required:!0},valid:!1,isTouched:!1},brand:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Brand",name:"brand"},valid:!0,isTouched:!1},description:{elementType:"textarea",elementConfig:{type:"text",value:"",placeholder:"Item Description"},valid:!0,isTouched:!1},serialNo:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Serial No.",name:"serialNo"},valid:!0,isTouched:!1},quantityConfig:{hasNestedInputs:!0,inputId:"quantityConfig",isValid:function(){return Object.values(this.inputs).every((function(e){return!0===e.valid}))},name:"The item pack contains how many packets/subcartons and units? ",value:{subCarton:0,unit:0},inputs:{subCarton:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"subcarton",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1},unit:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"units",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1}}},initQuantity:{hasNestedInputs:!0,inputId:"initQuantity",name:"How much quantity do you currently have",isValid:function(){return Object.values(this.inputs).some((function(e){return""!==e.elementConfig.value}))},value:{carton:0,subCarton:0,unit:0},inputs:{carton:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"Carton",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1},subCarton:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"subcarton",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1},unit:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"units",name:"quantity"},validation:{required:!0,minValue:0},valid:!1,isTouched:!1}}},costPrice:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"Cost Price(N)",name:"cost"},validation:{required:!0,minValue:1},valid:!1,isTouched:!1},sellPrice:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"Selling Price(N)",name:"sellPrice"},validation:{required:!0,minValue:1},valid:!1,isTouched:!1},category:{elementType:"select",elementConfig:{type:"text",name:"category",value:"None",placeholder:"Item Name",options:[{name:"category"}].concat(a.props.category).map((function(e){return{value:e.name,description:e.name}}))},valid:!0,isTouched:!1},img:{elementType:"input",elementConfig:{type:"file",value:"",file:new FormData,name:"image"},valid:!0,isTouched:!1}}},a.passData=function(e){a.props.addItem(e),a.props.history.replace("/all-items")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(He,{type:"products",passData:this.passData,formEntries:this.state.formEntries}))}}]),t}(n.Component),Le=Object(R.b)((function(e){return{category:e.categories.category}}),(function(e){return{addItem:function(t){return e((a=t,function(e){e({type:"ADD_ITEM"}),fetch("".concat(H,"/api/additem"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(t){console.log(t),e({type:"ADD_ITEM_SUCCESS",item:t})})).catch((function(t){console.log(t),e({type:"ADD_ITEM_FAILED"})}))}));var a}}}))(qe),Me=a(59),Re=a.n(Me),Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.addPath("/category")}},{key:"render",value:function(){return r.a.createElement("div",{className:Re.a.Category},r.a.createElement("h1",null,"Category"),r.a.createElement(ke,{type:"category",items:this.props.category}),r.a.createElement(pe,{path:"/add-category",value:"ADD CATEGORY"}))}}]),t}(n.Component),Ge=Object(R.b)((function(e){return{category:e.categories.category}}),(function(e){return{addPath:function(t){return e(M(t))}}}))(Be),Ue=a(11),Ve=a(19),Fe=a.n(Ve),Qe=a(21),Ye=a.n(Qe),Ke=function(e){var t=[Ye.a.Type];return"Added"===e.type?t.push(Ye.a.Green):t.push(Ye.a.Red),r.a.createElement("div",{className:Ye.a.HistoryRow},r.a.createElement("span",{className:Ye.a.Time},e.time.toLocaleTimeString()+" "+e.time.toDateString()),r.a.createElement("hr",null),r.a.createElement("div",{className:Ye.a.Details},r.a.createElement("div",{className:Ye.a.LeftDetails},r.a.createElement("span",{className:Ye.a.Item},e.item),r.a.createElement("span",{className:t.join(" ")},e.type)),r.a.createElement("span",{className:Ye.a.Quantity},function(e){var t="";return Object.entries(e).forEach((function(e){return t+="".concat(e[1]," ").concat(e[0],", ")})),t}(e.quantity))))},Je=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.category&&this.props.category.slice(0,6),a=this.props.items&&this.props.items.slice(0,6),n=r.a.createElement("div",{className:Fe.a.EmptyStore},r.a.createElement("p",null,r.a.createElement("bold",null,"Your Inventory is empty, add Items")),r.a.createElement(pe,{path:"/add-item",value:"Add Item"})),i=r.a.createElement("div",{className:Fe.a.EmptyStore},r.a.createElement("p",null,r.a.createElement("bold",null,"Your category list is empty")),r.a.createElement(pe,{style:{height:"47px",fontSize:".66em"},path:"/add-category",value:"Add Category"}));return r.a.createElement("div",{className:Fe.a.Dashboard},r.a.createElement("div",{className:Fe.a.Section},r.a.createElement("h1",null,"Category"),t&&t.length>0?r.a.createElement("div",{className:Fe.a.Items},t.map((function(t){return r.a.createElement(ue,{type:"category",name:t.name,key:t.name,quantity:e.props.catItems[t.name].length,link:"/images/image.jpg"})}))):i,t&&t.length>0?r.a.createElement(pe,{style:{width:"100px",height:"50px",margin:"auto",marginTop:"10px",textAlign:"center"},value:"View All",path:"/category"}):null),r.a.createElement("div",{className:Fe.a.Section},r.a.createElement("h1",null,"Items"),a&&a.length>0?r.a.createElement("div",{className:Fe.a.Items},this.props.loading?r.a.createElement(W,null):a.map((function(e,t){return r.a.createElement(v.b,{to:"/items/".concat(t),key:e.name},r.a.createElement(ue,{type:"products",name:e.name,brand:e.brand,link:e.img}))}))):n,a&&a.length>0&&r.a.createElement(pe,{style:{width:"100px",height:"50px",marginTop:"10px"},value:"View All",path:"/all-items"})),r.a.createElement("div",{className:Fe.a.Section},r.a.createElement("h1",null,"Transaction history"),r.a.createElement("div",{className:Fe.a.Trans},this.props.history.slice(0,5).map((function(e,t){return r.a.createElement(Ke,{type:e.type,time:new Date(e.time),item:e.item,key:t,quantity:e.quantity})}))),r.a.createElement(pe,{value:"view all",path:"/history",clicked:function(){return e.props.addPath("/history")}})),r.a.createElement("div",{className:Fe.a.Section},r.a.createElement("h1",null,"Items Statistics")))}}]),t}(n.Component),We=Object(R.b)((function(e){return{items:e.items.items,catItems:e.items.categoryItems,history:Object(Ue.a)(e.items.history).reverse(),category:e.categories.category,loading:e.globalState.loading}}),(function(e){return{addPath:function(t){return e(M(t))}}}))(Je),ze=Object(R.b)(null,(function(e){return{addVendor:function(t){return e({type:"ADD_VENDOR",vendor:t})}}}))((function(e){return r.a.createElement("div",null,r.a.createElement(He,{passData:function(t){e.history.replace("/category")},formEntries:{name:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Vendor's Business Name",name:"vendor"},validation:{required:!0,minLength:2},valid:!1,isTouched:!1},address:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Company's address",name:"address"},validation:{required:!0,minLength:2},valid:!1,isTouched:!1},city:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"City/State",name:"city"},validation:{required:!0,minLength:2},valid:!1,isTouched:!1},country:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Country",name:"country"},validation:{required:!0,minLength:2},valid:!1,isTouched:!1}}}))})),Xe=Object(R.b)(null,(function(e){return{addCategory:function(t){return e(function(e){return function(t){var a;t({type:"ADD_CATEGORY",category:a}),fetch("".concat(H,"/api/addcategory"),{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"ADD_CATEGORY_SUCCESS",category:e}}(e))})).catch((function(){return t({type:"ADD_CATEGORY_FAILED"})}))}}(t))}}}))((function(e){var t={name:{elementType:"input",elementConfig:{type:"text",value:"",placeholder:"Category",name:"category"},validation:{required:!0,minLength:2},valid:!1,isTouched:!1},description:{elementType:"textarea",elementConfig:{type:"text",value:"",placeholder:"Description",name:"description"},valid:!0,isTouched:!1},img:{elementType:"input",elementConfig:{type:"file",value:"",placeholder:"",name:"image",file:new FormData},validation:{required:!1},valid:!0,isTouched:!1}};return r.a.createElement("div",null,r.a.createElement(He,{type:"category",formEntries:t,passData:function(t){e.addCategory(t),e.history.replace("/category")}}))})),Ze=a(37),$e=a.n(Ze),et=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={itemStartIndex:0,category:a.getItemsCat()},a.moreItemHandler=function(){var e=a.state.itemStartIndex+15;e<=a.getItems().length&&a.setState({itemStartIndex:e})},a.prevItemsHandler=function(){var e=a.state.itemStartIndex-15;e<=0&&a.setState({itemStartIndex:e})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.addPath("/category/".concat(this.state.category))}},{key:"getItems",value:function(){var e=this.props.location.pathname.split("/"),t=e[e.length-1];return this.props.items&&this.props.items[t]}},{key:"getItemsCat",value:function(){var e=this.props.location.pathname.split("/");return e[e.length-1]}},{key:"render",value:function(){var e=this,t=this.getItems(),a=t&&t.length-this.state.itemStartIndex;this.state.itemStartIndex;return t&&0!==t.length?r.a.createElement("div",{className:$e.a.CategoryItems},r.a.createElement("h1",null,this.state.category),r.a.createElement(ke,{type:"products",items:t}),r.a.createElement("div",{className:$e.a.Buttons},a>15?r.a.createElement(pe,{clicked:function(){return e.moreItemHandler()},value:"Next Items"}):null,this.state.itemStartIndex>0?r.a.createElement(pe,{clicked:function(){return e.prevItemsHandler()},value:"Prev Items"}):null)):r.a.createElement("div",{className:$e.a.EmptyCategory},r.a.createElement("h5",null,this.state.category," is empty"))}}]),t}(n.Component),tt=Object(R.b)((function(e){return{items:e.items.categoryItems}}),(function(e){return{addPath:function(t){return e(M(t))}}}))(et),at=a(60),nt=a.n(at),rt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={itemID:null},a.passData=function(e){e=JSON.parse(e.get("details"));var t=a.props.items.find((function(t){return t.name===e.item})),n={};"add"===a.props.type?Object.entries(e.initQuantity).forEach((function(e){var a=Object(te.a)(e,2),r=a[0],i=a[1];n[r]=Number(i)+t.initQuantity[r]})):Object.entries(e.initQuantity).forEach((function(e){var a=Object(te.a)(e,2),r=a[0],i=a[1];n[r]=t.initQuantity[r]-Number(i)})),a.props.saveItem({id:t._id,props:{initQuantity:n}})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"componentWillMount",value:function(){this.props.addPath("/add-quantity"),window.scrollTo(0,0)}},{key:"render",value:function(){var e={item:{elementType:"select",elementConfig:{type:"text",name:"category",value:"None",placeholder:"Item Name",options:[{name:"Select Item"}].concat(this.props.items).map((function(e){return{value:e.name,description:"".concat(e.brand||""," ").concat(e.name)}}))},validation:{required:!0},valid:!1,isTouched:!1},initQuantity:{hasNestedInputs:!0,inputId:"initQuantity",name:"Qunatity",isValid:function(){return Object.values(this.inputs).some((function(e){return""!==e.elementConfig.value}))},value:{carton:0,subCarton:0,unit:0},inputs:{carton:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"Carton",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1},subCarton:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"subcarton",name:"quantity"},validation:{required:!1,minValue:0},valid:!0,isTouched:!1},unit:{elementType:"input",elementConfig:{type:"number",value:"",placeholder:"units",name:"quantity"},validation:{required:!0,minValue:0},valid:!0,isTouched:!1}}}},t="add"===this.props.type?"Add Item Quantity":"Remove Item Quantity";return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:nt.a.ItemUpdate},t),r.a.createElement(He,{formEntries:e,type:"products",passData:this.passData}))}}]),t}(n.Component),it=Object(R.b)((function(e){return{items:e.items.items}}),(function(e){return{addPath:function(t){return e(M(t))},saveItem:function(t){return e(L(t))}}}))(Object(b.f)(rt)),ot=a(31),ct=a.n(ot),lt=Object(R.b)((function(e){return{items:e.items.items}}),(function(e){return{addPath:function(t){return e(M(t))},updateImage:function(t){return e(function(e){return function(t){t({type:"UPDATE_IMAGE"}),fetch("".concat(H,"/updateimage"),{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){console.log(e),t(function(e){return{type:"UPDATE_IMAGE_SUCCESS",data:e}}(e))})).catch((function(e){return{type:"UPDATE_IMAGE_FAILED"}}))}}(t))}}}))((function(e){var t,a=Number(e.location.pathname.split("/").splice(-1).toString()),i=e.items[a],o=i.img||"https://update-x.herokuapp.com/images/image.jpg";Object(n.useEffect)((function(){e.addPath("/items/".concat(a))})),i.initQuantity&&(t="",Object.entries(i.initQuantity).forEach((function(e){var a=Object(te.a)(e,2),n=a[0],r=a[1];t=t.concat("".concat(r," ").concat(n,", "))})));var c=Object(n.useState)(!1),l=Object(te.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(te.a)(m,2),p=d[0],h=d[1],y=Object(n.useState)(new FormData),g=Object(te.a)(y,2),f=g[0],E=g[1],v=function(e){for(var t=String(e).split(""),a="";t.length>3;)a=","+t.splice(t.length-3,3).join("");return t.join("")+a},b=[["Name",i.name],["Brand",i.brand||"None"],["Category",i.category||"None"],["Description",i.description||"None"],["Quantity",i.quantity?i.quantity+" units":t],["Sell Price",v(i.sellPrice)],["Cost Price",v(i.costPrice)],["Date Added",new Date(i.date).toLocaleString().substr(0,24)]],_=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.entry[0],": "),r.a.createElement("td",null,e.entry[1]))};return r.a.createElement("div",{className:ct.a.ProductPage},r.a.createElement(re,{modalClosed:function(){return u(!1)},show:s},r.a.createElement(Oe,{data:i})),r.a.createElement("table",{className:ct.a.Table,cellSpacing:"0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",border:"1"},r.a.createElement("h2",null,(i.brand+" "+i.name).trim()),r.a.createElement("img",{className:ct.a.ItemImage,src:o,alt:i.name}),p?r.a.createElement("div",{className:ct.a.Input},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.updateImage(f)}},r.a.createElement("input",{type:"file",onChange:function(e){var t=new FormData;t.append("value",e.target.files[0].name),t.append("image",e.target.files[0]),t.append("id",i._id),E(t)}}),r.a.createElement(pe,{disabled:!f.get("image"),value:"apply",style:{width:"60px",height:"40px"}}))):r.a.createElement(pe,{style:{height:"35px",width:"110px"},value:"change",clicked:function(){return h(!0)}})))),r.a.createElement("tbody",null,b.map((function(e){return r.a.createElement(_,{key:e,entry:e})})))),r.a.createElement(pe,{divStyle:{position:"relative",top:"3.5em"},value:"Edit Item",clicked:function(){return u(!0)}}))})),st=a(47),ut=a.n(st),mt=Object(R.b)((function(e){return{transHistory:Object(Ue.a)(e.items.history).reverse()}}),(function(e){return{addPath:function(t){return e(M(t))}}}))((function(e){return r.a.createElement("div",{className:ut.a.ItemsHistory},r.a.createElement("h2",null,"Transaction History"),r.a.createElement("section",{className:ut.a.Transactions},e.transHistory.map((function(e,t){return r.a.createElement(Ke,{key:t,quantity:e.quantity,type:e.type,time:new Date(e.time),item:e.item})}))))})),dt=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Your Inventory is empty, add Items"),r.a.createElement(pe,{path:"/add-item",value:"Add Item"}));return r.a.createElement(h,null,r.a.createElement(ee,null,this.props.loading?r.a.createElement(W,null):r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/add-quantity",render:function(){return r.a.createElement(it,{type:"add"})}}),r.a.createElement(b.a,{path:"/pick-quantity",render:function(){return r.a.createElement(it,{type:"remove"})}}),r.a.createElement(b.a,{path:"/all-items",component:xe}),r.a.createElement(b.a,{path:"/items/:id",component:lt}),r.a.createElement(b.a,{path:"/category/:cat",component:tt}),r.a.createElement(b.a,{path:"/category",component:Ge}),r.a.createElement(b.a,{path:"/add-item",component:Le}),r.a.createElement(b.a,{path:"/add-category",component:Xe}),r.a.createElement(b.a,{path:"/vendors",component:ze}),r.a.createElement(b.a,{path:"/history",component:mt}),r.a.createElement(b.a,{path:"/",component:We}))))}}]),t}(n.Component),pt=Object(R.b)((function(e){return{items:e.items.items}}),(function(e){return{fetchData:function(){return e(q())}}}))(dt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=a(22),yt={items:[],history:[],category:[],categoryItems:[],loading:!1,error:!1},gt=function(e,t){var a={};return e.forEach((function(e){var n=t.filter((function(t){return t.category===e.name}));a[e.name]=n})),a},ft=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ITEMS":return Object(he.a)({},t,{loading:!0,error:!1});case"GET_ITEMS_SUCCESS":return Object(he.a)({},t,{error:!1,loading:!1,items:a.items});case"GET_ITEMS_FAILURE":return Object(he.a)({},t,{loading:!1,error:!0});case"GET_HISTORY":return Object(he.a)({},t,{loading:!0,error:!1});case"GET_HISTORY_SUCCESS":return Object(he.a)({},t,{loading:!1,error:!1,history:a.history});case"GET_HISTORY_FAILED":return Object(he.a)({},t,{loading:!1,error:!0});case"ADD_ITEM":return Object(he.a)({},t,{loading:!0,error:!1});case"ADD_ITEM_SUCCESS":console.log(a.data);var n=t.items.concat(a.item.itemData),r=gt(t.category,n);return Object(he.a)({},t,{loading:!1,items:[a.item.itemData].concat(Object(Ue.a)(t.items)),history:[].concat(Object(Ue.a)(t.history),[a.item.transData]),categoryItems:r});case"ADD_ITEM_FAILED":return Object(he.a)({},t,{error:!0,loading:!1});case"UPDATE_ITEM":return Object(he.a)({},t,{loading:!0,error:!1});case"GET_CATEGORIES_SUCCESS":return e=gt(a.categories,t.items),Object(he.a)({},t,{category:a.categories,categoryItems:e});case"UPDATE_ITEM_SUCCESS":var i=Object(Ue.a)(t.items);return i.forEach((function(e,t){a.item.item._id===e._id&&(i[t]=a.item.item)})),console.log(a.item),Object(he.a)({},t,{items:i,history:a.item.trData?[].concat(Object(Ue.a)(t.history),[a.item.trData]):Object(Ue.a)(t.history),loading:!1});case"UPDATE_ITEM_FAILED":return Object(he.a)({},t,{loading:!1,error:!0});default:return t}},Et={category:[],loading:!1,error:!1},vt=function(e,t){return[].concat(Object(Ue.a)(e),[t])},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(he.a)({},e,{loading:!0,error:!1});case"GET_CATEGORIES_SUCCESS":return Object(he.a)({},e,{category:t.categories,loading:!1,error:!1});case"GET_CATEGORIES_FAILED":return Object(he.a)({},e,{error:!0});case"ADD_CATEGORY":return Object(he.a)({},e,{loading:!0,error:!1});case"ADD_CATEGORY_SUCCESS":return Object(he.a)({},e,{loading:!1,category:vt(e.category,t.category)});case"ADD_CATEGORY_FAILED":return Object(he.a)({},e,{loading:!1,error:!0});default:return e}},_t={searchMode:!1,navLinks:["/"],links:[{name:"Dashboard",path:"/",icon:"home"},{name:"Category",path:"/category",icon:"list-alt"},{name:"Items",path:"/all-items",icon:"store"},{name:"New Category",path:"/add-category",icon:"plus"},{name:"New Item",path:"/add-item",icon:"plus"},{name:"Transactions History",path:"/history",icon:"history"},{name:"Vendors",path:"/vendors",icon:"people-arrows"},{name:"Return Item(s)",path:"/return-item",icon:"times"},{name:"Incoming",path:"/incoming",icon:"truck-pickup"},{name:"Items Stats",path:"/stat",icon:"chart-bar"}]},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_MODE":return Object(he.a)({},e,{searchMode:!0});case"REMOVE_SEARCH_MODE":return Object(he.a)({},e,{searchMode:!1});case"ADD_LINK":var a=Object(Ue.a)(e.navLinks);return a[a.length-1]!==t.link&&a.push(t.link),Object(he.a)({},e,{navLinks:a});case"REMOVE_LINK":var n=Object(Ue.a)(e.navLinks);return n.pop(),Object(he.a)({},e,{navLinks:n});case"REMOVE_ERROR":return Object(he.a)({},e,{error:!0});case"REMOVE_ERROR":return Object(he.a)({},e,{error:!1});default:return e}},St=a(61),Ot="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ht.d,Tt=Object(ht.e)(Object(ht.c)({items:ft,categories:bt,globalState:It}),Ot(Object(ht.a)((function(e){return function(t){return function(a){console.log(a);var n=t(a);return console.log(e.getState()),n}}}),St.a))),jt=r.a.createElement(R.a,{store:Tt},r.a.createElement(v.a,{basename:"/index.html"},r.a.createElement(pt,null)));o.a.render(jt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[62,1,2]]]);
//# sourceMappingURL=main.39a92c94.chunk.js.map